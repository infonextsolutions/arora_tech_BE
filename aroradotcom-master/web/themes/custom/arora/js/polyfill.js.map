{"version":3,"file":"polyfill.js","sources":["packages/base/node_modules/focus-visible/dist/focus-visible.js","packages/base/node_modules/objectFitPolyfill/dist/objectFitPolyfill.min.js","packages/base/node_modules/mdn-polyfills/NodeList.prototype.forEach.js","packages/base/node_modules/mdn-polyfills/Node.prototype.prepend.js","packages/base/node_modules/mdn-polyfills/Node.prototype.append.js","packages/base/node_modules/mdn-polyfills/Element.prototype.closest.js","packages/base/node_modules/mdn-polyfills/Element.prototype.matches.js","packages/base/node_modules/mdn-polyfills/String.prototype.includes.js","packages/base/src/polyfill.es6.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * https://github.com/WICG/focus-visible\n   */\n  function init() {\n    var hadKeyboardEvent = true;\n    var hadFocusVisibleRecently = false;\n    var hadFocusVisibleRecentlyTimeout = null;\n\n    var inputTypesWhitelist = {\n      text: true,\n      search: true,\n      url: true,\n      tel: true,\n      email: true,\n      password: true,\n      number: true,\n      date: true,\n      month: true,\n      week: true,\n      time: true,\n      datetime: true,\n      'datetime-local': true\n    };\n\n    /**\n     * Helper function for legacy browsers and iframes which sometimes focus\n     * elements like document, body, and non-interactive SVG.\n     * @param {Element} el\n     */\n    function isValidFocusTarget(el) {\n      if (\n        el &&\n        el !== document &&\n        el.nodeName !== 'HTML' &&\n        el.nodeName !== 'BODY' &&\n        'classList' in el &&\n        'contains' in el.classList\n      ) {\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Computes whether the given element should automatically trigger the\n     * `focus-visible` class being added, i.e. whether it should always match\n     * `:focus-visible` when focused.\n     * @param {Element} el\n     * @return {boolean}\n     */\n    function focusTriggersKeyboardModality(el) {\n      var type = el.type;\n      var tagName = el.tagName;\n\n      if (tagName == 'INPUT' && inputTypesWhitelist[type] && !el.readOnly) {\n        return true;\n      }\n\n      if (tagName == 'TEXTAREA' && !el.readOnly) {\n        return true;\n      }\n\n      if (el.isContentEditable) {\n        return true;\n      }\n\n      return false;\n    }\n\n    /**\n     * Add the `focus-visible` class to the given element if it was not added by\n     * the author.\n     * @param {Element} el\n     */\n    function addFocusVisibleClass(el) {\n      if (el.classList.contains('focus-visible')) {\n        return;\n      }\n      el.classList.add('focus-visible');\n      el.setAttribute('data-focus-visible-added', '');\n    }\n\n    /**\n     * Remove the `focus-visible` class from the given element if it was not\n     * originally added by the author.\n     * @param {Element} el\n     */\n    function removeFocusVisibleClass(el) {\n      if (!el.hasAttribute('data-focus-visible-added')) {\n        return;\n      }\n      el.classList.remove('focus-visible');\n      el.removeAttribute('data-focus-visible-added');\n    }\n\n    /**\n     * Treat `keydown` as a signal that the user is in keyboard modality.\n     * Apply `focus-visible` to any current active element and keep track\n     * of our keyboard modality state with `hadKeyboardEvent`.\n     * @param {Event} e\n     */\n    function onKeyDown(e) {\n      if (isValidFocusTarget(document.activeElement)) {\n        addFocusVisibleClass(document.activeElement);\n      }\n\n      hadKeyboardEvent = true;\n    }\n\n    /**\n     * If at any point a user clicks with a pointing device, ensure that we change\n     * the modality away from keyboard.\n     * This avoids the situation where a user presses a key on an already focused\n     * element, and then clicks on a different element, focusing it with a\n     * pointing device, while we still think we're in keyboard modality.\n     * @param {Event} e\n     */\n    function onPointerDown(e) {\n      hadKeyboardEvent = false;\n    }\n\n    /**\n     * On `focus`, add the `focus-visible` class to the target if:\n     * - the target received focus as a result of keyboard navigation, or\n     * - the event target is an element that will likely require interaction\n     *   via the keyboard (e.g. a text box)\n     * @param {Event} e\n     */\n    function onFocus(e) {\n      // Prevent IE from focusing the document or HTML element.\n      if (!isValidFocusTarget(e.target)) {\n        return;\n      }\n\n      if (hadKeyboardEvent || focusTriggersKeyboardModality(e.target)) {\n        addFocusVisibleClass(e.target);\n      }\n    }\n\n    /**\n     * On `blur`, remove the `focus-visible` class from the target.\n     * @param {Event} e\n     */\n    function onBlur(e) {\n      if (!isValidFocusTarget(e.target)) {\n        return;\n      }\n\n      if (\n        e.target.classList.contains('focus-visible') ||\n        e.target.hasAttribute('data-focus-visible-added')\n      ) {\n        // To detect a tab/window switch, we look for a blur event followed\n        // rapidly by a visibility change.\n        // If we don't see a visibility change within 100ms, it's probably a\n        // regular focus change.\n        hadFocusVisibleRecently = true;\n        window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n        hadFocusVisibleRecentlyTimeout = window.setTimeout(function() {\n          hadFocusVisibleRecently = false;\n          window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n        }, 100);\n        removeFocusVisibleClass(e.target);\n      }\n    }\n\n    /**\n     * If the user changes tabs, keep track of whether or not the previously\n     * focused element had .focus-visible.\n     * @param {Event} e\n     */\n    function onVisibilityChange(e) {\n      if (document.visibilityState == 'hidden') {\n        // If the tab becomes active again, the browser will handle calling focus\n        // on the element (Safari actually calls it twice).\n        // If this tab change caused a blur on an element with focus-visible,\n        // re-apply the class when the user switches back to the tab.\n        if (hadFocusVisibleRecently) {\n          hadKeyboardEvent = true;\n        }\n        addInitialPointerMoveListeners();\n      }\n    }\n\n    /**\n     * Add a group of listeners to detect usage of any pointing devices.\n     * These listeners will be added when the polyfill first loads, and anytime\n     * the window is blurred, so that they are active when the window regains\n     * focus.\n     */\n    function addInitialPointerMoveListeners() {\n      document.addEventListener('mousemove', onInitialPointerMove);\n      document.addEventListener('mousedown', onInitialPointerMove);\n      document.addEventListener('mouseup', onInitialPointerMove);\n      document.addEventListener('pointermove', onInitialPointerMove);\n      document.addEventListener('pointerdown', onInitialPointerMove);\n      document.addEventListener('pointerup', onInitialPointerMove);\n      document.addEventListener('touchmove', onInitialPointerMove);\n      document.addEventListener('touchstart', onInitialPointerMove);\n      document.addEventListener('touchend', onInitialPointerMove);\n    }\n\n    function removeInitialPointerMoveListeners() {\n      document.removeEventListener('mousemove', onInitialPointerMove);\n      document.removeEventListener('mousedown', onInitialPointerMove);\n      document.removeEventListener('mouseup', onInitialPointerMove);\n      document.removeEventListener('pointermove', onInitialPointerMove);\n      document.removeEventListener('pointerdown', onInitialPointerMove);\n      document.removeEventListener('pointerup', onInitialPointerMove);\n      document.removeEventListener('touchmove', onInitialPointerMove);\n      document.removeEventListener('touchstart', onInitialPointerMove);\n      document.removeEventListener('touchend', onInitialPointerMove);\n    }\n\n    /**\n     * When the polfyill first loads, assume the user is in keyboard modality.\n     * If any event is received from a pointing device (e.g. mouse, pointer,\n     * touch), turn off keyboard modality.\n     * This accounts for situations where focus enters the page from the URL bar.\n     * @param {Event} e\n     */\n    function onInitialPointerMove(e) {\n      // Work around a Safari quirk that fires a mousemove on <html> whenever the\n      // window blurs, even if you're tabbing out of the page. ¯\\_(ツ)_/¯\n      if (e.target.nodeName.toLowerCase() === 'html') {\n        return;\n      }\n\n      hadKeyboardEvent = false;\n      removeInitialPointerMoveListeners();\n    }\n\n    document.addEventListener('keydown', onKeyDown, true);\n    document.addEventListener('mousedown', onPointerDown, true);\n    document.addEventListener('pointerdown', onPointerDown, true);\n    document.addEventListener('touchstart', onPointerDown, true);\n    document.addEventListener('focus', onFocus, true);\n    document.addEventListener('blur', onBlur, true);\n    document.addEventListener('visibilitychange', onVisibilityChange, true);\n    addInitialPointerMoveListeners();\n\n    document.body.classList.add('js-focus-visible');\n  }\n\n  /**\n   * Subscription when the DOM is ready\n   * @param {Function} callback\n   */\n  function onDOMReady(callback) {\n    var loaded;\n\n    /**\n     * Callback wrapper for check loaded state\n     */\n    function load() {\n      if (!loaded) {\n        loaded = true;\n\n        callback();\n      }\n    }\n\n    if (['interactive', 'complete'].indexOf(document.readyState) >= 0) {\n      callback();\n    } else {\n      loaded = false;\n      document.addEventListener('DOMContentLoaded', load, false);\n      window.addEventListener('load', load, false);\n    }\n  }\n\n  if (typeof document !== 'undefined') {\n    onDOMReady(init);\n  }\n\n})));\n","!function(){\"use strict\";if(\"undefined\"!=typeof window){var t=window.navigator.userAgent.match(/Edge\\/(\\d{2})\\./),n=!!t&&16<=parseInt(t[1],10);if(!(\"objectFit\"in document.documentElement.style!=!1)||n){var o=function(t,e,i){var n,o,l,a,d;if((i=i.split(\" \")).length<2&&(i[1]=i[0]),\"x\"===t)n=i[0],o=i[1],l=\"left\",a=\"right\",d=e.clientWidth;else{if(\"y\"!==t)return;n=i[1],o=i[0],l=\"top\",a=\"bottom\",d=e.clientHeight}if(n!==l&&o!==l){if(n!==a&&o!==a)return\"center\"===n||\"50%\"===n?(e.style[l]=\"50%\",void(e.style[\"margin-\"+l]=d/-2+\"px\")):void(0<=n.indexOf(\"%\")?(n=parseInt(n))<50?(e.style[l]=n+\"%\",e.style[\"margin-\"+l]=d*(n/-100)+\"px\"):(n=100-n,e.style[a]=n+\"%\",e.style[\"margin-\"+a]=d*(n/-100)+\"px\"):e.style[l]=n);e.style[a]=\"0\"}else e.style[l]=\"0\"},l=function(t){var e=t.dataset?t.dataset.objectFit:t.getAttribute(\"data-object-fit\"),i=t.dataset?t.dataset.objectPosition:t.getAttribute(\"data-object-position\");e=e||\"cover\",i=i||\"50% 50%\";var n=t.parentNode;return function(t){var e=window.getComputedStyle(t,null),i=e.getPropertyValue(\"position\"),n=e.getPropertyValue(\"overflow\"),o=e.getPropertyValue(\"display\");i&&\"static\"!==i||(t.style.position=\"relative\"),\"hidden\"!==n&&(t.style.overflow=\"hidden\"),o&&\"inline\"!==o||(t.style.display=\"block\"),0===t.clientHeight&&(t.style.height=\"100%\"),-1===t.className.indexOf(\"object-fit-polyfill\")&&(t.className=t.className+\" object-fit-polyfill\")}(n),function(t){var e=window.getComputedStyle(t,null),i={\"max-width\":\"none\",\"max-height\":\"none\",\"min-width\":\"0px\",\"min-height\":\"0px\",top:\"auto\",right:\"auto\",bottom:\"auto\",left:\"auto\",\"margin-top\":\"0px\",\"margin-right\":\"0px\",\"margin-bottom\":\"0px\",\"margin-left\":\"0px\"};for(var n in i)e.getPropertyValue(n)!==i[n]&&(t.style[n]=i[n])}(t),t.style.position=\"absolute\",t.style.width=\"auto\",t.style.height=\"auto\",\"scale-down\"===e&&(e=t.clientWidth<n.clientWidth&&t.clientHeight<n.clientHeight?\"none\":\"contain\"),\"none\"===e?(o(\"x\",t,i),void o(\"y\",t,i)):\"fill\"===e?(t.style.width=\"100%\",t.style.height=\"100%\",o(\"x\",t,i),void o(\"y\",t,i)):(t.style.height=\"100%\",void(\"cover\"===e&&t.clientWidth>n.clientWidth||\"contain\"===e&&t.clientWidth<n.clientWidth?(t.style.top=\"0\",t.style.marginTop=\"0\",o(\"x\",t,i)):(t.style.width=\"100%\",t.style.height=\"auto\",t.style.left=\"0\",t.style.marginLeft=\"0\",o(\"y\",t,i))))},e=function(t){if(void 0===t||t instanceof Event)t=document.querySelectorAll(\"[data-object-fit]\");else if(t&&t.nodeName)t=[t];else{if(\"object\"!=typeof t||!t.length||!t[0].nodeName)return!1;t=t}for(var e=0;e<t.length;e++)if(t[e].nodeName){var i=t[e].nodeName.toLowerCase();if(\"img\"===i){if(n)continue;t[e].complete?l(t[e]):t[e].addEventListener(\"load\",function(){l(this)})}else\"video\"===i?0<t[e].readyState?l(t[e]):t[e].addEventListener(\"loadedmetadata\",function(){l(this)}):l(t[e])}return!0};\"loading\"===document.readyState?document.addEventListener(\"DOMContentLoaded\",e):e(),window.addEventListener(\"resize\",e),window.objectFitPolyfill=e}else window.objectFitPolyfill=function(){return!1}}}();","window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(o,t){t=t||window;for(var i=0;i<this.length;i++)o.call(t,this[i],i,this)});\n","!function(){function t(){var e=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();e.forEach(function(e){var t=e instanceof Node;n.appendChild(t?e:document.createTextNode(String(e)))}),this.insertBefore(n,this.firstChild)}[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty(\"prepend\")||Object.defineProperty(e,\"prepend\",{configurable:!0,enumerable:!0,writable:!0,value:t})})}();\n","!function(){function t(){var e=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();e.forEach(function(e){var t=e instanceof Node;n.appendChild(t?e:document.createTextNode(String(e)))}),this.appendChild(n)}[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty(\"append\")||Object.defineProperty(e,\"append\",{configurable:!0,enumerable:!0,writable:!0,value:t})})}();\n","Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});\n","Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);\n","String.prototype.includes||(String.prototype.includes=function(t,n){return\"number\"!=typeof n&&(n=0),!(n+t.length>this.length)&&-1!==this.indexOf(t,n)});\n","/**\n * @file Component Polyfills.\n */\n\n/**\n * Focus visible polyfill\n *\n * What does it do?\n * This allows focus states to only be visible when the keyboard is being used.\n *\n * When can we loose it?\n * It will be needed for the foreseeable future.\n * @see https://caniuse.com/#search=%3Afocus-visible\n */\nimport 'focus-visible';\n\n/**\n * Object Fit polyfill\n *\n * What does it do?\n * Adds support for the object-fit CSS property.\n *\n * When can we loose it?\n * When we drop support for IE11\n * @see https://caniuse.com/#feat=object-fit\n *\n */\nimport 'objectFitPolyfill';\n\n/**\n * Nodelist.forEach() polyfill\n *\n * What does it do?\n * Allows Internet Explorer to use .forEach() on NodeLists.\n *\n * When can we loose it?\n * When we drop support for IE11\n * @see https://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach#Browser_Compatibility\n */\nimport 'mdn-polyfills/NodeList.prototype.forEach';\n\n/**\n * ParentNode.prepend() polyfill.\n * @see https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/prepend\n */\nimport 'mdn-polyfills/Node.prototype.prepend';\n\n/**\n * ParentNode.append() polyfill.\n * @see https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/append\n */\nimport 'mdn-polyfills/Node.prototype.append';\n\n/**\n * Element.closest() polyfill.\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n */\nimport 'mdn-polyfills/Element.prototype.closest';\n\n/**\n * Element.matches() polyfill\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n */\nimport 'mdn-polyfills/Element.prototype.matches';\n\n/**\n * String.prototype.includes() polyfill\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n */\nimport 'mdn-polyfills/String.prototype.includes';\n"],"names":["global","factory","this","init","hadKeyboardEvent","hadFocusVisibleRecently","hadFocusVisibleRecentlyTimeout","inputTypesWhitelist","text","search","url","tel","email","password","number","date","month","week","time","datetime","isValidFocusTarget","el","document","nodeName","classList","focusTriggersKeyboardModality","type","tagName","readOnly","isContentEditable","addFocusVisibleClass","contains","add","setAttribute","removeFocusVisibleClass","hasAttribute","remove","removeAttribute","onKeyDown","e","activeElement","onPointerDown","onFocus","target","onBlur","window","clearTimeout","setTimeout","onVisibilityChange","visibilityState","addInitialPointerMoveListeners","addEventListener","onInitialPointerMove","removeInitialPointerMoveListeners","removeEventListener","toLowerCase","body","onDOMReady","callback","loaded","load","indexOf","readyState","t","navigator","userAgent","match","n","parseInt","documentElement","style","o","i","l","a","d","split","length","clientWidth","clientHeight","dataset","objectFit","getAttribute","objectPosition","parentNode","getComputedStyle","getPropertyValue","position","overflow","display","height","className","top","right","bottom","left","width","marginTop","marginLeft","Event","querySelectorAll","complete","objectFitPolyfill","NodeList","prototype","forEach","call","Array","slice","arguments","createDocumentFragment","Node","appendChild","createTextNode","String","insertBefore","firstChild","Element","Document","DocumentFragment","hasOwnProperty","Object","defineProperty","configurable","enumerable","writable","value","matches","msMatchesSelector","webkitMatchesSelector","closest","parentElement","nodeType","includes"],"mappings":"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"}